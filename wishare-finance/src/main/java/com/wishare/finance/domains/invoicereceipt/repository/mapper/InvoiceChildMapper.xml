<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wishare.finance.domains.invoicereceipt.repository.mapper.InvoiceChildMapper">


    <select id="getByInvoiceReceiptId" resultType="com.wishare.finance.apps.model.invoice.invoice.dto.InvoiceChildDto">
        SELECT ic.id,
               ic.invoice_receipt_id,
               ic.invoice_code,
               ic.invoice_no,
               ic.invoice_amount,
               ic.red_invoice_amount,
               ic.invoice_url,
               ic.nuonuo_url,
               ic.state,
               ic.fail_reason,
               ir.statutory_body_id,
               ir.statutory_body_name,
               ir.type,
               ir.clerk,
               ir.billing_time
        FROM invoice_child ic
                 LEFT JOIN invoice_receipt ir ON ic.invoice_receipt_id = ir.id
        where ic.invoice_receipt_id = #{invoiceReceiptId}
    </select>
</mapper>

