<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wishare.finance.domains.voucher.support.zhongjiao.repository.mapper.VoucherBillFileZJMapper">

    <select id="selectBySearch"
            resultType="com.wishare.finance.domains.voucher.support.zhongjiao.entity.VoucherBillFileZJ">
        select * from voucher_bill_file_zj
                          ${ew.customSqlSegment}
    </select>

    <!--根据报账单id获取附件列表-->
    <select id="selectByVoucherBillId" resultType="com.wishare.finance.domains.voucher.support.zhongjiao.entity.VoucherBillFileZJ">
        select * from voucher_bill_file_zj
        where deleted = 0
        and upload_flag = 0
        and voucher_bill_id = #{voucherBillId}
    </select>

    <!--根据报账单编号获取附件列表-->
    <select id="selectByVoucherBillNo" resultType="com.wishare.finance.domains.voucher.support.zhongjiao.entity.VoucherBillFileZJ">
        select * from voucher_bill_file_zj
        where deleted = 0
        and upload_flag = 0
        and voucher_bill_no = #{voucherBillNo}
    </select>

    <!--根据报账单ID获取附件列表-->
    <select id="getByBillIdList" resultType="com.wishare.finance.domains.voucher.support.zhongjiao.entity.VoucherBillFileZJ">
        select * from voucher_bill_file_zj
        where deleted = 0
        and upload_flag = 0
        and voucher_bill_id in
        <foreach collection="billIdList" close=")" open="(" item="id" separator=",">
            #{id}
        </foreach>
    </select>
</mapper>
